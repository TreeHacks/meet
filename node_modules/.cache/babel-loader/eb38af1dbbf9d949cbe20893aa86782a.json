{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/objectSpread\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/keys\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/array/is-array\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/typeof\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _pick2 = _interopRequireDefault(require(\"lodash/pick\"));\n\nvar _get2 = _interopRequireDefault(require(\"lodash/get\"));\n\nvar _isEmpty2 = _interopRequireDefault(require(\"lodash/isEmpty\"));\n\nvar _ErrorList = _interopRequireDefault(require(\"./ErrorList\"));\n\nvar _utils = require(\"../utils\");\n\nvar _validate = _interopRequireWildcard(require(\"../validate\"));\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Form);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Form).call(this, props));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"getUsedFormData\", function (formData, fields) {\n      //for the case of a single input form\n      if (fields.length === 0 && (0, _typeof2[\"default\"])(formData) !== \"object\") {\n        return formData;\n      }\n\n      var data = (0, _pick2[\"default\"])(formData, fields);\n\n      if ((0, _isArray[\"default\"])(formData)) {\n        return (0, _keys[\"default\"])(data).map(function (key) {\n          return data[key];\n        });\n      }\n\n      return data;\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"getFieldNames\", function (pathSchema, formData) {\n      var getAllPaths = function getAllPaths(_obj) {\n        var acc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var paths = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [\"\"];\n        (0, _keys[\"default\"])(_obj).forEach(function (key) {\n          if ((0, _typeof2[\"default\"])(_obj[key]) === \"object\") {\n            var newPaths = paths.map(function (path) {\n              return \"\".concat(path, \".\").concat(key);\n            });\n            getAllPaths(_obj[key], acc, newPaths);\n          } else if (key === \"$name\" && _obj[key] !== \"\") {\n            paths.forEach(function (path) {\n              path = path.replace(/^\\./, \"\");\n              var formValue = (0, _get2[\"default\"])(formData, path); // adds path to fieldNames if it points to a value\n              // or an empty object/array\n\n              if ((0, _typeof2[\"default\"])(formValue) !== \"object\" || (0, _isEmpty2[\"default\"])(formValue)) {\n                acc.push(path);\n              }\n            });\n          }\n        });\n        return acc;\n      };\n\n      return getAllPaths(pathSchema);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onChange\", function (formData, newErrorSchema) {\n      if ((0, _utils.isObject)(formData) || (0, _isArray[\"default\"])(formData)) {\n        var newState = _this.getStateFromProps(_this.props, formData);\n\n        formData = newState.formData;\n      }\n\n      var mustValidate = !_this.props.noValidate && _this.props.liveValidate;\n      var state = {\n        formData: formData\n      };\n      var newFormData = formData;\n\n      if (_this.props.omitExtraData === true && _this.props.liveOmit === true) {\n        var retrievedSchema = (0, _utils.retrieveSchema)(_this.state.schema, _this.state.schema.definitions, formData);\n        var pathSchema = (0, _utils.toPathSchema)(retrievedSchema, \"\", _this.state.schema.definitions, formData);\n\n        var fieldNames = _this.getFieldNames(pathSchema, formData);\n\n        newFormData = _this.getUsedFormData(formData, fieldNames);\n        state = {\n          formData: newFormData\n        };\n      }\n\n      if (mustValidate) {\n        var _this$validate = _this.validate(newFormData),\n            errors = _this$validate.errors,\n            errorSchema = _this$validate.errorSchema;\n\n        state = {\n          formData: newFormData,\n          errors: errors,\n          errorSchema: errorSchema\n        };\n      } else if (!_this.props.noValidate && newErrorSchema) {\n        state = {\n          formData: newFormData,\n          errorSchema: newErrorSchema,\n          errors: (0, _validate.toErrorList)(newErrorSchema)\n        };\n      }\n\n      (0, _utils.setState)((0, _assertThisInitialized2[\"default\"])(_this), state, function () {\n        if (_this.props.onChange) {\n          _this.props.onChange(_this.state);\n        }\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onBlur\", function () {\n      if (_this.props.onBlur) {\n        var _this$props;\n\n        (_this$props = _this.props).onBlur.apply(_this$props, arguments);\n      }\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onFocus\", function () {\n      if (_this.props.onFocus) {\n        var _this$props2;\n\n        (_this$props2 = _this.props).onFocus.apply(_this$props2, arguments);\n      }\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onSubmit\", function (event) {\n      event.preventDefault();\n\n      if (event.target !== event.currentTarget) {\n        return;\n      }\n\n      event.persist();\n      var newFormData = _this.state.formData;\n\n      if (_this.props.omitExtraData === true) {\n        var retrievedSchema = (0, _utils.retrieveSchema)(_this.state.schema, _this.state.schema.definitions, newFormData);\n        var pathSchema = (0, _utils.toPathSchema)(retrievedSchema, \"\", _this.state.schema.definitions, newFormData);\n\n        var fieldNames = _this.getFieldNames(pathSchema, newFormData);\n\n        newFormData = _this.getUsedFormData(newFormData, fieldNames);\n      }\n\n      if (!_this.props.noValidate) {\n        var _this$validate2 = _this.validate(newFormData),\n            errors = _this$validate2.errors,\n            errorSchema = _this$validate2.errorSchema;\n\n        if ((0, _keys[\"default\"])(errors).length > 0) {\n          (0, _utils.setState)((0, _assertThisInitialized2[\"default\"])(_this), {\n            errors: errors,\n            errorSchema: errorSchema\n          }, function () {\n            if (_this.props.onError) {\n              _this.props.onError(errors);\n            } else {\n              console.error(\"Form validation failed\", errors);\n            }\n          });\n          return;\n        }\n      }\n\n      _this.setState({\n        formData: newFormData,\n        errors: [],\n        errorSchema: {}\n      }, function () {\n        if (_this.props.onSubmit) {\n          _this.props.onSubmit((0, _objectSpread2[\"default\"])({}, _this.state, {\n            formData: newFormData,\n            status: \"submitted\"\n          }), event);\n        }\n      });\n    });\n    _this.state = _this.getStateFromProps(props, props.formData);\n\n    if (_this.props.onChange && !(0, _utils.deepEquals)(_this.state.formData, _this.props.formData)) {\n      _this.props.onChange(_this.state);\n    }\n\n    _this.formElement = null;\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Form, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var nextState = this.getStateFromProps(nextProps, nextProps.formData);\n\n      if (!(0, _utils.deepEquals)(nextState.formData, nextProps.formData) && !(0, _utils.deepEquals)(nextState.formData, this.state.formData) && this.props.onChange) {\n        this.props.onChange(nextState);\n      }\n\n      this.setState(nextState);\n    }\n  }, {\n    key: \"getStateFromProps\",\n    value: function getStateFromProps(props, inputFormData) {\n      var state = this.state || {};\n      var schema = \"schema\" in props ? props.schema : this.props.schema;\n      var uiSchema = \"uiSchema\" in props ? props.uiSchema : this.props.uiSchema;\n      var edit = typeof inputFormData !== \"undefined\";\n      var liveValidate = props.liveValidate || this.props.liveValidate;\n      var mustValidate = edit && !props.noValidate && liveValidate;\n      var definitions = schema.definitions;\n      var formData = (0, _utils.getDefaultFormState)(schema, inputFormData, definitions);\n      var retrievedSchema = (0, _utils.retrieveSchema)(schema, definitions, formData);\n      var customFormats = props.customFormats;\n      var additionalMetaSchemas = props.additionalMetaSchemas;\n\n      var _ref = mustValidate ? this.validate(formData, schema, additionalMetaSchemas, customFormats) : {\n        errors: state.errors || [],\n        errorSchema: state.errorSchema || {}\n      },\n          errors = _ref.errors,\n          errorSchema = _ref.errorSchema;\n\n      var idSchema = (0, _utils.toIdSchema)(retrievedSchema, uiSchema[\"ui:rootFieldId\"], definitions, formData, props.idPrefix);\n      return {\n        schema: schema,\n        uiSchema: uiSchema,\n        idSchema: idSchema,\n        formData: formData,\n        edit: edit,\n        errors: errors,\n        errorSchema: errorSchema,\n        additionalMetaSchemas: additionalMetaSchemas\n      };\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return (0, _utils.shouldRender)(this, nextProps, nextState);\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(formData) {\n      var schema = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.schema;\n      var additionalMetaSchemas = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.props.additionalMetaSchemas;\n      var customFormats = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.props.customFormats;\n      var _this$props3 = this.props,\n          validate = _this$props3.validate,\n          transformErrors = _this$props3.transformErrors;\n\n      var _this$getRegistry = this.getRegistry(),\n          definitions = _this$getRegistry.definitions;\n\n      var resolvedSchema = (0, _utils.retrieveSchema)(schema, definitions, formData);\n      return (0, _validate[\"default\"])(formData, resolvedSchema, validate, transformErrors, additionalMetaSchemas, customFormats);\n    }\n  }, {\n    key: \"renderErrors\",\n    value: function renderErrors() {\n      var _this$state = this.state,\n          errors = _this$state.errors,\n          errorSchema = _this$state.errorSchema,\n          schema = _this$state.schema,\n          uiSchema = _this$state.uiSchema;\n      var _this$props4 = this.props,\n          ErrorList = _this$props4.ErrorList,\n          showErrorList = _this$props4.showErrorList,\n          formContext = _this$props4.formContext;\n\n      if (errors.length && showErrorList != false) {\n        return _react[\"default\"].createElement(ErrorList, {\n          errors: errors,\n          errorSchema: errorSchema,\n          schema: schema,\n          uiSchema: uiSchema,\n          formContext: formContext\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      // For BC, accept passed SchemaField and TitleField props and pass them to\n      // the \"fields\" registry one.\n      var _getDefaultRegistry = (0, _utils.getDefaultRegistry)(),\n          fields = _getDefaultRegistry.fields,\n          widgets = _getDefaultRegistry.widgets;\n\n      return {\n        fields: (0, _objectSpread2[\"default\"])({}, fields, this.props.fields),\n        widgets: (0, _objectSpread2[\"default\"])({}, widgets, this.props.widgets),\n        ArrayFieldTemplate: this.props.ArrayFieldTemplate,\n        ObjectFieldTemplate: this.props.ObjectFieldTemplate,\n        FieldTemplate: this.props.FieldTemplate,\n        definitions: this.props.schema.definitions || {},\n        formContext: this.props.formContext || {}\n      };\n    }\n  }, {\n    key: \"submit\",\n    value: function submit() {\n      if (this.formElement) {\n        this.formElement.dispatchEvent(new Event(\"submit\", {\n          cancelable: true\n        }));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props5 = this.props,\n          children = _this$props5.children,\n          safeRenderCompletion = _this$props5.safeRenderCompletion,\n          id = _this$props5.id,\n          idPrefix = _this$props5.idPrefix,\n          className = _this$props5.className,\n          tagName = _this$props5.tagName,\n          name = _this$props5.name,\n          method = _this$props5.method,\n          target = _this$props5.target,\n          action = _this$props5.action,\n          autocomplete = _this$props5.autocomplete,\n          enctype = _this$props5.enctype,\n          acceptcharset = _this$props5.acceptcharset,\n          noHtml5Validate = _this$props5.noHtml5Validate,\n          disabled = _this$props5.disabled,\n          formContext = _this$props5.formContext;\n      var _this$state2 = this.state,\n          schema = _this$state2.schema,\n          uiSchema = _this$state2.uiSchema,\n          formData = _this$state2.formData,\n          errorSchema = _this$state2.errorSchema,\n          idSchema = _this$state2.idSchema;\n      var registry = this.getRegistry();\n      var _SchemaField = registry.fields.SchemaField;\n      var FormTag = tagName ? tagName : \"form\";\n      return _react[\"default\"].createElement(FormTag, {\n        className: className ? className : \"rjsf\",\n        id: id,\n        name: name,\n        method: method,\n        target: target,\n        action: action,\n        autoComplete: autocomplete,\n        encType: enctype,\n        acceptCharset: acceptcharset,\n        noValidate: noHtml5Validate,\n        onSubmit: this.onSubmit,\n        ref: function ref(form) {\n          _this2.formElement = form;\n        }\n      }, this.renderErrors(), _react[\"default\"].createElement(_SchemaField, {\n        schema: schema,\n        uiSchema: uiSchema,\n        errorSchema: errorSchema,\n        idSchema: idSchema,\n        idPrefix: idPrefix,\n        formContext: formContext,\n        formData: formData,\n        onChange: this.onChange,\n        onBlur: this.onBlur,\n        onFocus: this.onFocus,\n        registry: registry,\n        safeRenderCompletion: safeRenderCompletion,\n        disabled: disabled\n      }), children ? children : _react[\"default\"].createElement(\"div\", null, _react[\"default\"].createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-info\"\n      }, \"Submit\")));\n    }\n  }]);\n  return Form;\n}(_react.Component);\n\nexports[\"default\"] = Form;\n(0, _defineProperty2[\"default\"])(Form, \"defaultProps\", {\n  uiSchema: {},\n  noValidate: false,\n  liveValidate: false,\n  disabled: false,\n  safeRenderCompletion: false,\n  noHtml5Validate: false,\n  ErrorList: _ErrorList[\"default\"],\n  omitExtraData: false\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  Form.propTypes = {\n    schema: _propTypes[\"default\"].object.isRequired,\n    uiSchema: _propTypes[\"default\"].object,\n    formData: _propTypes[\"default\"].any,\n    widgets: _propTypes[\"default\"].objectOf(_propTypes[\"default\"].oneOfType([_propTypes[\"default\"].func, _propTypes[\"default\"].object])),\n    fields: _propTypes[\"default\"].objectOf(_propTypes[\"default\"].func),\n    ArrayFieldTemplate: _propTypes[\"default\"].func,\n    ObjectFieldTemplate: _propTypes[\"default\"].func,\n    FieldTemplate: _propTypes[\"default\"].func,\n    ErrorList: _propTypes[\"default\"].func,\n    onChange: _propTypes[\"default\"].func,\n    onError: _propTypes[\"default\"].func,\n    showErrorList: _propTypes[\"default\"].bool,\n    onSubmit: _propTypes[\"default\"].func,\n    id: _propTypes[\"default\"].string,\n    className: _propTypes[\"default\"].string,\n    tagName: _propTypes[\"default\"].string,\n    name: _propTypes[\"default\"].string,\n    method: _propTypes[\"default\"].string,\n    target: _propTypes[\"default\"].string,\n    action: _propTypes[\"default\"].string,\n    autocomplete: _propTypes[\"default\"].string,\n    enctype: _propTypes[\"default\"].string,\n    acceptcharset: _propTypes[\"default\"].string,\n    noValidate: _propTypes[\"default\"].bool,\n    noHtml5Validate: _propTypes[\"default\"].bool,\n    liveValidate: _propTypes[\"default\"].bool,\n    validate: _propTypes[\"default\"].func,\n    transformErrors: _propTypes[\"default\"].func,\n    safeRenderCompletion: _propTypes[\"default\"].bool,\n    formContext: _propTypes[\"default\"].object,\n    customFormats: _propTypes[\"default\"].object,\n    additionalMetaSchemas: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].object),\n    omitExtraData: _propTypes[\"default\"].bool\n  };\n}","map":{"version":3,"sources":["/Users/lucaspauker/projects/treehacks/meet/node_modules/react-jsonschema-form/lib/components/Form.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","_Object$defineProperty","exports","value","_objectSpread2","_keys","_isArray","_typeof2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_inherits2","_defineProperty2","_react","_propTypes","_pick2","_get2","_isEmpty2","_ErrorList","_utils","_validate","Form","_Component","props","_this","call","formData","fields","length","data","map","key","pathSchema","getAllPaths","_obj","acc","arguments","undefined","paths","forEach","newPaths","path","concat","replace","formValue","push","newErrorSchema","isObject","newState","getStateFromProps","mustValidate","noValidate","liveValidate","state","newFormData","omitExtraData","liveOmit","retrievedSchema","retrieveSchema","schema","definitions","toPathSchema","fieldNames","getFieldNames","getUsedFormData","_this$validate","validate","errors","errorSchema","toErrorList","setState","onChange","onBlur","_this$props","apply","onFocus","_this$props2","event","preventDefault","target","currentTarget","persist","_this$validate2","onError","console","error","onSubmit","status","deepEquals","formElement","componentWillReceiveProps","nextProps","nextState","inputFormData","uiSchema","edit","getDefaultFormState","customFormats","additionalMetaSchemas","_ref","idSchema","toIdSchema","idPrefix","shouldComponentUpdate","shouldRender","_this$props3","transformErrors","_this$getRegistry","getRegistry","resolvedSchema","renderErrors","_this$state","_this$props4","ErrorList","showErrorList","formContext","createElement","_getDefaultRegistry","getDefaultRegistry","widgets","ArrayFieldTemplate","ObjectFieldTemplate","FieldTemplate","submit","dispatchEvent","Event","cancelable","render","_this2","_this$props5","children","safeRenderCompletion","id","className","tagName","name","method","action","autocomplete","enctype","acceptcharset","noHtml5Validate","disabled","_this$state2","registry","_SchemaField","SchemaField","FormTag","autoComplete","encType","acceptCharset","ref","form","type","Component","process","env","NODE_ENV","propTypes","object","isRequired","any","objectOf","oneOfType","func","bool","string","arrayOf"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/objectSpread\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/keys\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/array/is-array\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/typeof\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _pick2 = _interopRequireDefault(require(\"lodash/pick\"));\n\nvar _get2 = _interopRequireDefault(require(\"lodash/get\"));\n\nvar _isEmpty2 = _interopRequireDefault(require(\"lodash/isEmpty\"));\n\nvar _ErrorList = _interopRequireDefault(require(\"./ErrorList\"));\n\nvar _utils = require(\"../utils\");\n\nvar _validate = _interopRequireWildcard(require(\"../validate\"));\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Form);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Form).call(this, props));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"getUsedFormData\", function (formData, fields) {\n      //for the case of a single input form\n      if (fields.length === 0 && (0, _typeof2[\"default\"])(formData) !== \"object\") {\n        return formData;\n      }\n\n      var data = (0, _pick2[\"default\"])(formData, fields);\n\n      if ((0, _isArray[\"default\"])(formData)) {\n        return (0, _keys[\"default\"])(data).map(function (key) {\n          return data[key];\n        });\n      }\n\n      return data;\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"getFieldNames\", function (pathSchema, formData) {\n      var getAllPaths = function getAllPaths(_obj) {\n        var acc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var paths = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [\"\"];\n        (0, _keys[\"default\"])(_obj).forEach(function (key) {\n          if ((0, _typeof2[\"default\"])(_obj[key]) === \"object\") {\n            var newPaths = paths.map(function (path) {\n              return \"\".concat(path, \".\").concat(key);\n            });\n            getAllPaths(_obj[key], acc, newPaths);\n          } else if (key === \"$name\" && _obj[key] !== \"\") {\n            paths.forEach(function (path) {\n              path = path.replace(/^\\./, \"\");\n              var formValue = (0, _get2[\"default\"])(formData, path); // adds path to fieldNames if it points to a value\n              // or an empty object/array\n\n              if ((0, _typeof2[\"default\"])(formValue) !== \"object\" || (0, _isEmpty2[\"default\"])(formValue)) {\n                acc.push(path);\n              }\n            });\n          }\n        });\n        return acc;\n      };\n\n      return getAllPaths(pathSchema);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onChange\", function (formData, newErrorSchema) {\n      if ((0, _utils.isObject)(formData) || (0, _isArray[\"default\"])(formData)) {\n        var newState = _this.getStateFromProps(_this.props, formData);\n\n        formData = newState.formData;\n      }\n\n      var mustValidate = !_this.props.noValidate && _this.props.liveValidate;\n      var state = {\n        formData: formData\n      };\n      var newFormData = formData;\n\n      if (_this.props.omitExtraData === true && _this.props.liveOmit === true) {\n        var retrievedSchema = (0, _utils.retrieveSchema)(_this.state.schema, _this.state.schema.definitions, formData);\n        var pathSchema = (0, _utils.toPathSchema)(retrievedSchema, \"\", _this.state.schema.definitions, formData);\n\n        var fieldNames = _this.getFieldNames(pathSchema, formData);\n\n        newFormData = _this.getUsedFormData(formData, fieldNames);\n        state = {\n          formData: newFormData\n        };\n      }\n\n      if (mustValidate) {\n        var _this$validate = _this.validate(newFormData),\n            errors = _this$validate.errors,\n            errorSchema = _this$validate.errorSchema;\n\n        state = {\n          formData: newFormData,\n          errors: errors,\n          errorSchema: errorSchema\n        };\n      } else if (!_this.props.noValidate && newErrorSchema) {\n        state = {\n          formData: newFormData,\n          errorSchema: newErrorSchema,\n          errors: (0, _validate.toErrorList)(newErrorSchema)\n        };\n      }\n\n      (0, _utils.setState)((0, _assertThisInitialized2[\"default\"])(_this), state, function () {\n        if (_this.props.onChange) {\n          _this.props.onChange(_this.state);\n        }\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onBlur\", function () {\n      if (_this.props.onBlur) {\n        var _this$props;\n\n        (_this$props = _this.props).onBlur.apply(_this$props, arguments);\n      }\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onFocus\", function () {\n      if (_this.props.onFocus) {\n        var _this$props2;\n\n        (_this$props2 = _this.props).onFocus.apply(_this$props2, arguments);\n      }\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onSubmit\", function (event) {\n      event.preventDefault();\n\n      if (event.target !== event.currentTarget) {\n        return;\n      }\n\n      event.persist();\n      var newFormData = _this.state.formData;\n\n      if (_this.props.omitExtraData === true) {\n        var retrievedSchema = (0, _utils.retrieveSchema)(_this.state.schema, _this.state.schema.definitions, newFormData);\n        var pathSchema = (0, _utils.toPathSchema)(retrievedSchema, \"\", _this.state.schema.definitions, newFormData);\n\n        var fieldNames = _this.getFieldNames(pathSchema, newFormData);\n\n        newFormData = _this.getUsedFormData(newFormData, fieldNames);\n      }\n\n      if (!_this.props.noValidate) {\n        var _this$validate2 = _this.validate(newFormData),\n            errors = _this$validate2.errors,\n            errorSchema = _this$validate2.errorSchema;\n\n        if ((0, _keys[\"default\"])(errors).length > 0) {\n          (0, _utils.setState)((0, _assertThisInitialized2[\"default\"])(_this), {\n            errors: errors,\n            errorSchema: errorSchema\n          }, function () {\n            if (_this.props.onError) {\n              _this.props.onError(errors);\n            } else {\n              console.error(\"Form validation failed\", errors);\n            }\n          });\n          return;\n        }\n      }\n\n      _this.setState({\n        formData: newFormData,\n        errors: [],\n        errorSchema: {}\n      }, function () {\n        if (_this.props.onSubmit) {\n          _this.props.onSubmit((0, _objectSpread2[\"default\"])({}, _this.state, {\n            formData: newFormData,\n            status: \"submitted\"\n          }), event);\n        }\n      });\n    });\n    _this.state = _this.getStateFromProps(props, props.formData);\n\n    if (_this.props.onChange && !(0, _utils.deepEquals)(_this.state.formData, _this.props.formData)) {\n      _this.props.onChange(_this.state);\n    }\n\n    _this.formElement = null;\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Form, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var nextState = this.getStateFromProps(nextProps, nextProps.formData);\n\n      if (!(0, _utils.deepEquals)(nextState.formData, nextProps.formData) && !(0, _utils.deepEquals)(nextState.formData, this.state.formData) && this.props.onChange) {\n        this.props.onChange(nextState);\n      }\n\n      this.setState(nextState);\n    }\n  }, {\n    key: \"getStateFromProps\",\n    value: function getStateFromProps(props, inputFormData) {\n      var state = this.state || {};\n      var schema = \"schema\" in props ? props.schema : this.props.schema;\n      var uiSchema = \"uiSchema\" in props ? props.uiSchema : this.props.uiSchema;\n      var edit = typeof inputFormData !== \"undefined\";\n      var liveValidate = props.liveValidate || this.props.liveValidate;\n      var mustValidate = edit && !props.noValidate && liveValidate;\n      var definitions = schema.definitions;\n      var formData = (0, _utils.getDefaultFormState)(schema, inputFormData, definitions);\n      var retrievedSchema = (0, _utils.retrieveSchema)(schema, definitions, formData);\n      var customFormats = props.customFormats;\n      var additionalMetaSchemas = props.additionalMetaSchemas;\n\n      var _ref = mustValidate ? this.validate(formData, schema, additionalMetaSchemas, customFormats) : {\n        errors: state.errors || [],\n        errorSchema: state.errorSchema || {}\n      },\n          errors = _ref.errors,\n          errorSchema = _ref.errorSchema;\n\n      var idSchema = (0, _utils.toIdSchema)(retrievedSchema, uiSchema[\"ui:rootFieldId\"], definitions, formData, props.idPrefix);\n      return {\n        schema: schema,\n        uiSchema: uiSchema,\n        idSchema: idSchema,\n        formData: formData,\n        edit: edit,\n        errors: errors,\n        errorSchema: errorSchema,\n        additionalMetaSchemas: additionalMetaSchemas\n      };\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return (0, _utils.shouldRender)(this, nextProps, nextState);\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(formData) {\n      var schema = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.schema;\n      var additionalMetaSchemas = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.props.additionalMetaSchemas;\n      var customFormats = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.props.customFormats;\n      var _this$props3 = this.props,\n          validate = _this$props3.validate,\n          transformErrors = _this$props3.transformErrors;\n\n      var _this$getRegistry = this.getRegistry(),\n          definitions = _this$getRegistry.definitions;\n\n      var resolvedSchema = (0, _utils.retrieveSchema)(schema, definitions, formData);\n      return (0, _validate[\"default\"])(formData, resolvedSchema, validate, transformErrors, additionalMetaSchemas, customFormats);\n    }\n  }, {\n    key: \"renderErrors\",\n    value: function renderErrors() {\n      var _this$state = this.state,\n          errors = _this$state.errors,\n          errorSchema = _this$state.errorSchema,\n          schema = _this$state.schema,\n          uiSchema = _this$state.uiSchema;\n      var _this$props4 = this.props,\n          ErrorList = _this$props4.ErrorList,\n          showErrorList = _this$props4.showErrorList,\n          formContext = _this$props4.formContext;\n\n      if (errors.length && showErrorList != false) {\n        return _react[\"default\"].createElement(ErrorList, {\n          errors: errors,\n          errorSchema: errorSchema,\n          schema: schema,\n          uiSchema: uiSchema,\n          formContext: formContext\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      // For BC, accept passed SchemaField and TitleField props and pass them to\n      // the \"fields\" registry one.\n      var _getDefaultRegistry = (0, _utils.getDefaultRegistry)(),\n          fields = _getDefaultRegistry.fields,\n          widgets = _getDefaultRegistry.widgets;\n\n      return {\n        fields: (0, _objectSpread2[\"default\"])({}, fields, this.props.fields),\n        widgets: (0, _objectSpread2[\"default\"])({}, widgets, this.props.widgets),\n        ArrayFieldTemplate: this.props.ArrayFieldTemplate,\n        ObjectFieldTemplate: this.props.ObjectFieldTemplate,\n        FieldTemplate: this.props.FieldTemplate,\n        definitions: this.props.schema.definitions || {},\n        formContext: this.props.formContext || {}\n      };\n    }\n  }, {\n    key: \"submit\",\n    value: function submit() {\n      if (this.formElement) {\n        this.formElement.dispatchEvent(new Event(\"submit\", {\n          cancelable: true\n        }));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props5 = this.props,\n          children = _this$props5.children,\n          safeRenderCompletion = _this$props5.safeRenderCompletion,\n          id = _this$props5.id,\n          idPrefix = _this$props5.idPrefix,\n          className = _this$props5.className,\n          tagName = _this$props5.tagName,\n          name = _this$props5.name,\n          method = _this$props5.method,\n          target = _this$props5.target,\n          action = _this$props5.action,\n          autocomplete = _this$props5.autocomplete,\n          enctype = _this$props5.enctype,\n          acceptcharset = _this$props5.acceptcharset,\n          noHtml5Validate = _this$props5.noHtml5Validate,\n          disabled = _this$props5.disabled,\n          formContext = _this$props5.formContext;\n      var _this$state2 = this.state,\n          schema = _this$state2.schema,\n          uiSchema = _this$state2.uiSchema,\n          formData = _this$state2.formData,\n          errorSchema = _this$state2.errorSchema,\n          idSchema = _this$state2.idSchema;\n      var registry = this.getRegistry();\n      var _SchemaField = registry.fields.SchemaField;\n      var FormTag = tagName ? tagName : \"form\";\n      return _react[\"default\"].createElement(FormTag, {\n        className: className ? className : \"rjsf\",\n        id: id,\n        name: name,\n        method: method,\n        target: target,\n        action: action,\n        autoComplete: autocomplete,\n        encType: enctype,\n        acceptCharset: acceptcharset,\n        noValidate: noHtml5Validate,\n        onSubmit: this.onSubmit,\n        ref: function ref(form) {\n          _this2.formElement = form;\n        }\n      }, this.renderErrors(), _react[\"default\"].createElement(_SchemaField, {\n        schema: schema,\n        uiSchema: uiSchema,\n        errorSchema: errorSchema,\n        idSchema: idSchema,\n        idPrefix: idPrefix,\n        formContext: formContext,\n        formData: formData,\n        onChange: this.onChange,\n        onBlur: this.onBlur,\n        onFocus: this.onFocus,\n        registry: registry,\n        safeRenderCompletion: safeRenderCompletion,\n        disabled: disabled\n      }), children ? children : _react[\"default\"].createElement(\"div\", null, _react[\"default\"].createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-info\"\n      }, \"Submit\")));\n    }\n  }]);\n  return Form;\n}(_react.Component);\n\nexports[\"default\"] = Form;\n(0, _defineProperty2[\"default\"])(Form, \"defaultProps\", {\n  uiSchema: {},\n  noValidate: false,\n  liveValidate: false,\n  disabled: false,\n  safeRenderCompletion: false,\n  noHtml5Validate: false,\n  ErrorList: _ErrorList[\"default\"],\n  omitExtraData: false\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  Form.propTypes = {\n    schema: _propTypes[\"default\"].object.isRequired,\n    uiSchema: _propTypes[\"default\"].object,\n    formData: _propTypes[\"default\"].any,\n    widgets: _propTypes[\"default\"].objectOf(_propTypes[\"default\"].oneOfType([_propTypes[\"default\"].func, _propTypes[\"default\"].object])),\n    fields: _propTypes[\"default\"].objectOf(_propTypes[\"default\"].func),\n    ArrayFieldTemplate: _propTypes[\"default\"].func,\n    ObjectFieldTemplate: _propTypes[\"default\"].func,\n    FieldTemplate: _propTypes[\"default\"].func,\n    ErrorList: _propTypes[\"default\"].func,\n    onChange: _propTypes[\"default\"].func,\n    onError: _propTypes[\"default\"].func,\n    showErrorList: _propTypes[\"default\"].bool,\n    onSubmit: _propTypes[\"default\"].func,\n    id: _propTypes[\"default\"].string,\n    className: _propTypes[\"default\"].string,\n    tagName: _propTypes[\"default\"].string,\n    name: _propTypes[\"default\"].string,\n    method: _propTypes[\"default\"].string,\n    target: _propTypes[\"default\"].string,\n    action: _propTypes[\"default\"].string,\n    autocomplete: _propTypes[\"default\"].string,\n    enctype: _propTypes[\"default\"].string,\n    acceptcharset: _propTypes[\"default\"].string,\n    noValidate: _propTypes[\"default\"].bool,\n    noHtml5Validate: _propTypes[\"default\"].bool,\n    liveValidate: _propTypes[\"default\"].bool,\n    validate: _propTypes[\"default\"].func,\n    transformErrors: _propTypes[\"default\"].func,\n    safeRenderCompletion: _propTypes[\"default\"].bool,\n    formContext: _propTypes[\"default\"].object,\n    customFormats: _propTypes[\"default\"].object,\n    additionalMetaSchemas: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].object),\n    omitExtraData: _propTypes[\"default\"].bool\n  };\n}"]},"metadata":{},"sourceType":"script"}