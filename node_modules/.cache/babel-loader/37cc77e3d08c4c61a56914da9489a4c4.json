{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/extends\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/json/stringify\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/array/is-array\"));\n\nvar _assign = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/assign\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/toConsumableArray\"));\n\nvar _objectSpread5 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/objectSpread\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf3 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/defineProperty\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/keys\"));\n\nvar _AddButton = _interopRequireDefault(require(\"../AddButton\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar types = _interopRequireWildcard(require(\"../../types\"));\n\nvar _utils = require(\"../../utils\");\n\nfunction DefaultObjectFieldTemplate(props) {\n  var canExpand = function canExpand() {\n    var formData = props.formData,\n        schema = props.schema,\n        uiSchema = props.uiSchema;\n\n    if (!schema.additionalProperties) {\n      return false;\n    }\n\n    var _getUiOptions = (0, _utils.getUiOptions)(uiSchema),\n        expandable = _getUiOptions.expandable;\n\n    if (expandable === false) {\n      return expandable;\n    } // if ui:options.expandable was not explicitly set to false, we can add\n    // another property if we have not exceeded maxProperties yet\n\n\n    if (schema.maxProperties !== undefined) {\n      return (0, _keys[\"default\"])(formData).length < schema.maxProperties;\n    }\n\n    return true;\n  };\n\n  var TitleField = props.TitleField,\n      DescriptionField = props.DescriptionField;\n  return _react[\"default\"].createElement(\"fieldset\", {\n    id: props.idSchema.$id\n  }, (props.uiSchema[\"ui:title\"] || props.title) && _react[\"default\"].createElement(TitleField, {\n    id: \"\".concat(props.idSchema.$id, \"__title\"),\n    title: props.title || props.uiSchema[\"ui:title\"],\n    required: props.required,\n    formContext: props.formContext\n  }), props.description && _react[\"default\"].createElement(DescriptionField, {\n    id: \"\".concat(props.idSchema.$id, \"__description\"),\n    description: props.description,\n    formContext: props.formContext\n  }), props.properties.map(function (prop) {\n    return prop.content;\n  }), canExpand() && _react[\"default\"].createElement(_AddButton[\"default\"], {\n    className: \"object-property-expand\",\n    onClick: props.onAddClick(props.schema),\n    disabled: props.disabled || props.readonly\n  }));\n}\n\nvar ObjectField =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(ObjectField, _Component);\n\n  function ObjectField() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, ObjectField);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (_getPrototypeOf2 = (0, _getPrototypeOf3[\"default\"])(ObjectField)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"state\", {\n      wasPropertyKeyModified: false,\n      additionalProperties: {}\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onPropertyChange\", function (name) {\n      var addedByAdditionalProperties = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      return function (value, errorSchema) {\n        if (!value && addedByAdditionalProperties) {\n          // Don't set value = undefined for fields added by\n          // additionalProperties. Doing so removes them from the\n          // formData, which causes them to completely disappear\n          // (including the input field for the property name). Unlike\n          // fields which are \"mandated\" by the schema, these fields can\n          // be set to undefined by clicking a \"delete field\" button, so\n          // set empty values to the empty string.\n          value = \"\";\n        }\n\n        var newFormData = (0, _objectSpread5[\"default\"])({}, _this.props.formData, (0, _defineProperty2[\"default\"])({}, name, value));\n\n        _this.props.onChange(newFormData, errorSchema && _this.props.errorSchema && (0, _objectSpread5[\"default\"])({}, _this.props.errorSchema, (0, _defineProperty2[\"default\"])({}, name, errorSchema)));\n      };\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onDropPropertyClick\", function (key) {\n      return function (event) {\n        event.preventDefault();\n        var _this$props = _this.props,\n            onChange = _this$props.onChange,\n            formData = _this$props.formData;\n        var copiedFormData = (0, _objectSpread5[\"default\"])({}, formData);\n        delete copiedFormData[key];\n        onChange(copiedFormData);\n      };\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"getAvailableKey\", function (preferredKey, formData) {\n      var index = 0;\n      var newKey = preferredKey;\n\n      while (formData.hasOwnProperty(newKey)) {\n        newKey = \"\".concat(preferredKey, \"-\").concat(++index);\n      }\n\n      return newKey;\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onKeyChange\", function (oldValue) {\n      return function (value, errorSchema) {\n        if (oldValue === value) {\n          return;\n        }\n\n        value = _this.getAvailableKey(value, _this.props.formData);\n        var newFormData = (0, _objectSpread5[\"default\"])({}, _this.props.formData);\n        var newKeys = (0, _defineProperty2[\"default\"])({}, oldValue, value);\n        var keyValues = (0, _keys[\"default\"])(newFormData).map(function (key) {\n          var newKey = newKeys[key] || key;\n          return (0, _defineProperty2[\"default\"])({}, newKey, newFormData[key]);\n        });\n\n        var renamedObj = _assign[\"default\"].apply(Object, [{}].concat((0, _toConsumableArray2[\"default\"])(keyValues)));\n\n        _this.setState({\n          wasPropertyKeyModified: true\n        });\n\n        _this.props.onChange(renamedObj, errorSchema && _this.props.errorSchema && (0, _objectSpread5[\"default\"])({}, _this.props.errorSchema, (0, _defineProperty2[\"default\"])({}, value, errorSchema)));\n      };\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleAddClick\", function (schema) {\n      return function () {\n        var type = schema.additionalProperties.type;\n        var newFormData = (0, _objectSpread5[\"default\"])({}, _this.props.formData);\n\n        if (schema.additionalProperties.hasOwnProperty(\"$ref\")) {\n          var _this$props$registry = _this.props.registry,\n              registry = _this$props$registry === void 0 ? (0, _utils.getDefaultRegistry)() : _this$props$registry;\n          var refSchema = (0, _utils.retrieveSchema)({\n            $ref: schema.additionalProperties[\"$ref\"]\n          }, registry.definitions, _this.props.formData);\n          type = refSchema.type;\n        }\n\n        newFormData[_this.getAvailableKey(\"newKey\", newFormData)] = _this.getDefaultValue(type);\n\n        _this.props.onChange(newFormData);\n      };\n    });\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(ObjectField, [{\n    key: \"isRequired\",\n    value: function isRequired(name) {\n      var schema = this.props.schema;\n      return (0, _isArray[\"default\"])(schema.required) && schema.required.indexOf(name) !== -1;\n    }\n  }, {\n    key: \"getDefaultValue\",\n    value: function getDefaultValue(type) {\n      switch (type) {\n        case \"string\":\n          return \"New Value\";\n\n        case \"array\":\n          return [];\n\n        case \"boolean\":\n          return false;\n\n        case \"null\":\n          return null;\n\n        case \"number\":\n          return 0;\n\n        case \"object\":\n          return {};\n\n        default:\n          // We don't have a datatype for some reason (perhaps additionalProperties was true)\n          return \"New Value\";\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          uiSchema = _this$props2.uiSchema,\n          formData = _this$props2.formData,\n          errorSchema = _this$props2.errorSchema,\n          idSchema = _this$props2.idSchema,\n          name = _this$props2.name,\n          required = _this$props2.required,\n          disabled = _this$props2.disabled,\n          readonly = _this$props2.readonly,\n          idPrefix = _this$props2.idPrefix,\n          onBlur = _this$props2.onBlur,\n          onFocus = _this$props2.onFocus,\n          _this$props2$registry = _this$props2.registry,\n          registry = _this$props2$registry === void 0 ? (0, _utils.getDefaultRegistry)() : _this$props2$registry;\n      var definitions = registry.definitions,\n          fields = registry.fields,\n          formContext = registry.formContext;\n      var SchemaField = fields.SchemaField,\n          TitleField = fields.TitleField,\n          DescriptionField = fields.DescriptionField;\n      var schema = (0, _utils.retrieveSchema)(this.props.schema, definitions, formData); // If this schema has a title defined, but the user has set a new key/label, retain their input.\n\n      var title;\n\n      if (this.state.wasPropertyKeyModified) {\n        title = name;\n      } else {\n        title = schema.title === undefined ? name : schema.title;\n      }\n\n      var description = uiSchema[\"ui:description\"] || schema.description;\n      var orderedProperties;\n\n      try {\n        var properties = (0, _keys[\"default\"])(schema.properties || {});\n        orderedProperties = (0, _utils.orderProperties)(properties, uiSchema[\"ui:order\"]);\n      } catch (err) {\n        return _react[\"default\"].createElement(\"div\", null, _react[\"default\"].createElement(\"p\", {\n          className: \"config-error\",\n          style: {\n            color: \"red\"\n          }\n        }, \"Invalid \", name || \"root\", \" object field configuration:\", _react[\"default\"].createElement(\"em\", null, err.message), \".\"), _react[\"default\"].createElement(\"pre\", null, (0, _stringify[\"default\"])(schema)));\n      }\n\n      var Template = uiSchema[\"ui:ObjectFieldTemplate\"] || registry.ObjectFieldTemplate || DefaultObjectFieldTemplate;\n      var templateProps = {\n        title: uiSchema[\"ui:title\"] || title,\n        description: description,\n        TitleField: TitleField,\n        DescriptionField: DescriptionField,\n        properties: orderedProperties.map(function (name) {\n          var addedByAdditionalProperties = schema.properties[name].hasOwnProperty(_utils.ADDITIONAL_PROPERTY_FLAG);\n          return {\n            content: _react[\"default\"].createElement(SchemaField, {\n              key: name,\n              name: name,\n              required: _this2.isRequired(name),\n              schema: schema.properties[name],\n              uiSchema: addedByAdditionalProperties ? uiSchema.additionalProperties : uiSchema[name],\n              errorSchema: errorSchema[name],\n              idSchema: idSchema[name],\n              idPrefix: idPrefix,\n              formData: (formData || {})[name],\n              wasPropertyKeyModified: _this2.state.wasPropertyKeyModified,\n              onKeyChange: _this2.onKeyChange(name),\n              onChange: _this2.onPropertyChange(name, addedByAdditionalProperties),\n              onBlur: onBlur,\n              onFocus: onFocus,\n              registry: registry,\n              disabled: disabled,\n              readonly: readonly,\n              onDropPropertyClick: _this2.onDropPropertyClick\n            }),\n            name: name,\n            readonly: readonly,\n            disabled: disabled,\n            required: required\n          };\n        }),\n        readonly: readonly,\n        disabled: disabled,\n        required: required,\n        idSchema: idSchema,\n        uiSchema: uiSchema,\n        schema: schema,\n        formData: formData,\n        formContext: formContext\n      };\n      return _react[\"default\"].createElement(Template, (0, _extends2[\"default\"])({}, templateProps, {\n        onAddClick: this.handleAddClick\n      }));\n    }\n  }]);\n  return ObjectField;\n}(_react.Component);\n\n(0, _defineProperty2[\"default\"])(ObjectField, \"defaultProps\", {\n  uiSchema: {},\n  formData: {},\n  errorSchema: {},\n  idSchema: {},\n  required: false,\n  disabled: false,\n  readonly: false\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ObjectField.propTypes = types.fieldProps;\n}\n\nvar _default = ObjectField;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/lucaspauker/projects/treehacks/meet/node_modules/react-jsonschema-form/lib/components/fields/ObjectField.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","_Object$defineProperty","exports","value","_extends2","_stringify","_isArray","_assign","_toConsumableArray2","_objectSpread5","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf3","_assertThisInitialized2","_inherits2","_defineProperty2","_keys","_AddButton","_react","types","_utils","DefaultObjectFieldTemplate","props","canExpand","formData","schema","uiSchema","additionalProperties","_getUiOptions","getUiOptions","expandable","maxProperties","undefined","length","TitleField","DescriptionField","createElement","id","idSchema","$id","title","concat","required","formContext","description","properties","map","prop","content","className","onClick","onAddClick","disabled","readonly","ObjectField","_Component","_getPrototypeOf2","_this","_len","arguments","args","Array","_key","call","apply","wasPropertyKeyModified","name","addedByAdditionalProperties","errorSchema","newFormData","onChange","key","event","preventDefault","_this$props","copiedFormData","preferredKey","index","newKey","hasOwnProperty","oldValue","getAvailableKey","newKeys","keyValues","renamedObj","Object","setState","type","_this$props$registry","registry","getDefaultRegistry","refSchema","retrieveSchema","$ref","definitions","getDefaultValue","isRequired","indexOf","render","_this2","_this$props2","idPrefix","onBlur","onFocus","_this$props2$registry","fields","SchemaField","state","orderedProperties","orderProperties","err","style","color","message","Template","ObjectFieldTemplate","templateProps","ADDITIONAL_PROPERTY_FLAG","onKeyChange","onPropertyChange","onDropPropertyClick","handleAddClick","Component","process","env","NODE_ENV","propTypes","fieldProps","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/extends\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/json/stringify\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/array/is-array\"));\n\nvar _assign = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/assign\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/toConsumableArray\"));\n\nvar _objectSpread5 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/objectSpread\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf3 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/defineProperty\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/keys\"));\n\nvar _AddButton = _interopRequireDefault(require(\"../AddButton\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar types = _interopRequireWildcard(require(\"../../types\"));\n\nvar _utils = require(\"../../utils\");\n\nfunction DefaultObjectFieldTemplate(props) {\n  var canExpand = function canExpand() {\n    var formData = props.formData,\n        schema = props.schema,\n        uiSchema = props.uiSchema;\n\n    if (!schema.additionalProperties) {\n      return false;\n    }\n\n    var _getUiOptions = (0, _utils.getUiOptions)(uiSchema),\n        expandable = _getUiOptions.expandable;\n\n    if (expandable === false) {\n      return expandable;\n    } // if ui:options.expandable was not explicitly set to false, we can add\n    // another property if we have not exceeded maxProperties yet\n\n\n    if (schema.maxProperties !== undefined) {\n      return (0, _keys[\"default\"])(formData).length < schema.maxProperties;\n    }\n\n    return true;\n  };\n\n  var TitleField = props.TitleField,\n      DescriptionField = props.DescriptionField;\n  return _react[\"default\"].createElement(\"fieldset\", {\n    id: props.idSchema.$id\n  }, (props.uiSchema[\"ui:title\"] || props.title) && _react[\"default\"].createElement(TitleField, {\n    id: \"\".concat(props.idSchema.$id, \"__title\"),\n    title: props.title || props.uiSchema[\"ui:title\"],\n    required: props.required,\n    formContext: props.formContext\n  }), props.description && _react[\"default\"].createElement(DescriptionField, {\n    id: \"\".concat(props.idSchema.$id, \"__description\"),\n    description: props.description,\n    formContext: props.formContext\n  }), props.properties.map(function (prop) {\n    return prop.content;\n  }), canExpand() && _react[\"default\"].createElement(_AddButton[\"default\"], {\n    className: \"object-property-expand\",\n    onClick: props.onAddClick(props.schema),\n    disabled: props.disabled || props.readonly\n  }));\n}\n\nvar ObjectField =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(ObjectField, _Component);\n\n  function ObjectField() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, ObjectField);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (_getPrototypeOf2 = (0, _getPrototypeOf3[\"default\"])(ObjectField)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"state\", {\n      wasPropertyKeyModified: false,\n      additionalProperties: {}\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onPropertyChange\", function (name) {\n      var addedByAdditionalProperties = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      return function (value, errorSchema) {\n        if (!value && addedByAdditionalProperties) {\n          // Don't set value = undefined for fields added by\n          // additionalProperties. Doing so removes them from the\n          // formData, which causes them to completely disappear\n          // (including the input field for the property name). Unlike\n          // fields which are \"mandated\" by the schema, these fields can\n          // be set to undefined by clicking a \"delete field\" button, so\n          // set empty values to the empty string.\n          value = \"\";\n        }\n\n        var newFormData = (0, _objectSpread5[\"default\"])({}, _this.props.formData, (0, _defineProperty2[\"default\"])({}, name, value));\n\n        _this.props.onChange(newFormData, errorSchema && _this.props.errorSchema && (0, _objectSpread5[\"default\"])({}, _this.props.errorSchema, (0, _defineProperty2[\"default\"])({}, name, errorSchema)));\n      };\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onDropPropertyClick\", function (key) {\n      return function (event) {\n        event.preventDefault();\n        var _this$props = _this.props,\n            onChange = _this$props.onChange,\n            formData = _this$props.formData;\n        var copiedFormData = (0, _objectSpread5[\"default\"])({}, formData);\n        delete copiedFormData[key];\n        onChange(copiedFormData);\n      };\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"getAvailableKey\", function (preferredKey, formData) {\n      var index = 0;\n      var newKey = preferredKey;\n\n      while (formData.hasOwnProperty(newKey)) {\n        newKey = \"\".concat(preferredKey, \"-\").concat(++index);\n      }\n\n      return newKey;\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onKeyChange\", function (oldValue) {\n      return function (value, errorSchema) {\n        if (oldValue === value) {\n          return;\n        }\n\n        value = _this.getAvailableKey(value, _this.props.formData);\n        var newFormData = (0, _objectSpread5[\"default\"])({}, _this.props.formData);\n        var newKeys = (0, _defineProperty2[\"default\"])({}, oldValue, value);\n        var keyValues = (0, _keys[\"default\"])(newFormData).map(function (key) {\n          var newKey = newKeys[key] || key;\n          return (0, _defineProperty2[\"default\"])({}, newKey, newFormData[key]);\n        });\n\n        var renamedObj = _assign[\"default\"].apply(Object, [{}].concat((0, _toConsumableArray2[\"default\"])(keyValues)));\n\n        _this.setState({\n          wasPropertyKeyModified: true\n        });\n\n        _this.props.onChange(renamedObj, errorSchema && _this.props.errorSchema && (0, _objectSpread5[\"default\"])({}, _this.props.errorSchema, (0, _defineProperty2[\"default\"])({}, value, errorSchema)));\n      };\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleAddClick\", function (schema) {\n      return function () {\n        var type = schema.additionalProperties.type;\n        var newFormData = (0, _objectSpread5[\"default\"])({}, _this.props.formData);\n\n        if (schema.additionalProperties.hasOwnProperty(\"$ref\")) {\n          var _this$props$registry = _this.props.registry,\n              registry = _this$props$registry === void 0 ? (0, _utils.getDefaultRegistry)() : _this$props$registry;\n          var refSchema = (0, _utils.retrieveSchema)({\n            $ref: schema.additionalProperties[\"$ref\"]\n          }, registry.definitions, _this.props.formData);\n          type = refSchema.type;\n        }\n\n        newFormData[_this.getAvailableKey(\"newKey\", newFormData)] = _this.getDefaultValue(type);\n\n        _this.props.onChange(newFormData);\n      };\n    });\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(ObjectField, [{\n    key: \"isRequired\",\n    value: function isRequired(name) {\n      var schema = this.props.schema;\n      return (0, _isArray[\"default\"])(schema.required) && schema.required.indexOf(name) !== -1;\n    }\n  }, {\n    key: \"getDefaultValue\",\n    value: function getDefaultValue(type) {\n      switch (type) {\n        case \"string\":\n          return \"New Value\";\n\n        case \"array\":\n          return [];\n\n        case \"boolean\":\n          return false;\n\n        case \"null\":\n          return null;\n\n        case \"number\":\n          return 0;\n\n        case \"object\":\n          return {};\n\n        default:\n          // We don't have a datatype for some reason (perhaps additionalProperties was true)\n          return \"New Value\";\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          uiSchema = _this$props2.uiSchema,\n          formData = _this$props2.formData,\n          errorSchema = _this$props2.errorSchema,\n          idSchema = _this$props2.idSchema,\n          name = _this$props2.name,\n          required = _this$props2.required,\n          disabled = _this$props2.disabled,\n          readonly = _this$props2.readonly,\n          idPrefix = _this$props2.idPrefix,\n          onBlur = _this$props2.onBlur,\n          onFocus = _this$props2.onFocus,\n          _this$props2$registry = _this$props2.registry,\n          registry = _this$props2$registry === void 0 ? (0, _utils.getDefaultRegistry)() : _this$props2$registry;\n      var definitions = registry.definitions,\n          fields = registry.fields,\n          formContext = registry.formContext;\n      var SchemaField = fields.SchemaField,\n          TitleField = fields.TitleField,\n          DescriptionField = fields.DescriptionField;\n      var schema = (0, _utils.retrieveSchema)(this.props.schema, definitions, formData); // If this schema has a title defined, but the user has set a new key/label, retain their input.\n\n      var title;\n\n      if (this.state.wasPropertyKeyModified) {\n        title = name;\n      } else {\n        title = schema.title === undefined ? name : schema.title;\n      }\n\n      var description = uiSchema[\"ui:description\"] || schema.description;\n      var orderedProperties;\n\n      try {\n        var properties = (0, _keys[\"default\"])(schema.properties || {});\n        orderedProperties = (0, _utils.orderProperties)(properties, uiSchema[\"ui:order\"]);\n      } catch (err) {\n        return _react[\"default\"].createElement(\"div\", null, _react[\"default\"].createElement(\"p\", {\n          className: \"config-error\",\n          style: {\n            color: \"red\"\n          }\n        }, \"Invalid \", name || \"root\", \" object field configuration:\", _react[\"default\"].createElement(\"em\", null, err.message), \".\"), _react[\"default\"].createElement(\"pre\", null, (0, _stringify[\"default\"])(schema)));\n      }\n\n      var Template = uiSchema[\"ui:ObjectFieldTemplate\"] || registry.ObjectFieldTemplate || DefaultObjectFieldTemplate;\n      var templateProps = {\n        title: uiSchema[\"ui:title\"] || title,\n        description: description,\n        TitleField: TitleField,\n        DescriptionField: DescriptionField,\n        properties: orderedProperties.map(function (name) {\n          var addedByAdditionalProperties = schema.properties[name].hasOwnProperty(_utils.ADDITIONAL_PROPERTY_FLAG);\n          return {\n            content: _react[\"default\"].createElement(SchemaField, {\n              key: name,\n              name: name,\n              required: _this2.isRequired(name),\n              schema: schema.properties[name],\n              uiSchema: addedByAdditionalProperties ? uiSchema.additionalProperties : uiSchema[name],\n              errorSchema: errorSchema[name],\n              idSchema: idSchema[name],\n              idPrefix: idPrefix,\n              formData: (formData || {})[name],\n              wasPropertyKeyModified: _this2.state.wasPropertyKeyModified,\n              onKeyChange: _this2.onKeyChange(name),\n              onChange: _this2.onPropertyChange(name, addedByAdditionalProperties),\n              onBlur: onBlur,\n              onFocus: onFocus,\n              registry: registry,\n              disabled: disabled,\n              readonly: readonly,\n              onDropPropertyClick: _this2.onDropPropertyClick\n            }),\n            name: name,\n            readonly: readonly,\n            disabled: disabled,\n            required: required\n          };\n        }),\n        readonly: readonly,\n        disabled: disabled,\n        required: required,\n        idSchema: idSchema,\n        uiSchema: uiSchema,\n        schema: schema,\n        formData: formData,\n        formContext: formContext\n      };\n      return _react[\"default\"].createElement(Template, (0, _extends2[\"default\"])({}, templateProps, {\n        onAddClick: this.handleAddClick\n      }));\n    }\n  }]);\n  return ObjectField;\n}(_react.Component);\n\n(0, _defineProperty2[\"default\"])(ObjectField, \"defaultProps\", {\n  uiSchema: {},\n  formData: {},\n  errorSchema: {},\n  idSchema: {},\n  required: false,\n  disabled: false,\n  readonly: false\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ObjectField.propTypes = types.fieldProps;\n}\n\nvar _default = ObjectField;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}