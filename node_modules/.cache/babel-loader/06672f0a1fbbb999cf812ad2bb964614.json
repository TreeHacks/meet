{"ast":null,"code":"'use strict';\n\nvar generate = require('./generate');\n\nvar alphabet = require('./alphabet'); // Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\n\n\nvar REDUCE_TIME = 1567752802062; // don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\n\nvar version = 7; // Counter is used when shortid is called multiple times in one second.\n\nvar counter; // Remember the last time shortid was called in case counter is needed.\n\nvar previousSeconds;\n/**\n * Generate unique id\n * Returns string id\n */\n\nfunction build(clusterWorkerId) {\n  var str = '';\n  var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n  if (seconds === previousSeconds) {\n    counter++;\n  } else {\n    counter = 0;\n    previousSeconds = seconds;\n  }\n\n  str = str + generate(version);\n  str = str + generate(clusterWorkerId);\n\n  if (counter > 0) {\n    str = str + generate(counter);\n  }\n\n  str = str + generate(seconds);\n  return str;\n}\n\nmodule.exports = build;","map":{"version":3,"sources":["/Users/lucaspauker/projects/treehacks/meet/node_modules/shortid/lib/build.js"],"names":["generate","require","alphabet","REDUCE_TIME","version","counter","previousSeconds","build","clusterWorkerId","str","seconds","Math","floor","Date","now","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,YAAD,CAAtB;;AACA,IAAIC,QAAQ,GAAGD,OAAO,CAAC,YAAD,CAAtB,C,CAEA;AACA;AACA;;;AACA,IAAIE,WAAW,GAAG,aAAlB,C,CAEA;AACA;;AACA,IAAIC,OAAO,GAAG,CAAd,C,CAEA;;AACA,IAAIC,OAAJ,C,CAEA;;AACA,IAAIC,eAAJ;AAEA;;;;;AAIA,SAASC,KAAT,CAAeC,eAAf,EAAgC;AAC5B,MAAIC,GAAG,GAAG,EAAV;AAEA,MAAIC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAW,CAACC,IAAI,CAACC,GAAL,KAAaX,WAAd,IAA6B,KAAxC,CAAd;;AAEA,MAAIO,OAAO,KAAKJ,eAAhB,EAAiC;AAC7BD,IAAAA,OAAO;AACV,GAFD,MAEO;AACHA,IAAAA,OAAO,GAAG,CAAV;AACAC,IAAAA,eAAe,GAAGI,OAAlB;AACH;;AAEDD,EAAAA,GAAG,GAAGA,GAAG,GAAGT,QAAQ,CAACI,OAAD,CAApB;AACAK,EAAAA,GAAG,GAAGA,GAAG,GAAGT,QAAQ,CAACQ,eAAD,CAApB;;AACA,MAAIH,OAAO,GAAG,CAAd,EAAiB;AACbI,IAAAA,GAAG,GAAGA,GAAG,GAAGT,QAAQ,CAACK,OAAD,CAApB;AACH;;AACDI,EAAAA,GAAG,GAAGA,GAAG,GAAGT,QAAQ,CAACU,OAAD,CAApB;AACA,SAAOD,GAAP;AACH;;AAEDM,MAAM,CAACC,OAAP,GAAiBT,KAAjB","sourcesContent":["'use strict';\n\nvar generate = require('./generate');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1567752802062;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 7;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + generate(version);\n    str = str + generate(clusterWorkerId);\n    if (counter > 0) {\n        str = str + generate(counter);\n    }\n    str = str + generate(seconds);\n    return str;\n}\n\nmodule.exports = build;\n"]},"metadata":{},"sourceType":"script"}