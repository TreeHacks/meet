{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/defineProperty\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/keys\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _utils = require(\"../../utils\");\n\nfunction rangeOptions(start, stop) {\n  var options = [];\n\n  for (var i = start; i <= stop; i++) {\n    options.push({\n      value: i,\n      label: (0, _utils.pad)(i, 2)\n    });\n  }\n\n  return options;\n}\n\nfunction readyForChange(state) {\n  return (0, _keys[\"default\"])(state).every(function (key) {\n    return state[key] !== -1;\n  });\n}\n\nfunction DateElement(props) {\n  var type = props.type,\n      range = props.range,\n      value = props.value,\n      select = props.select,\n      rootId = props.rootId,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      registry = props.registry,\n      onBlur = props.onBlur;\n  var id = rootId + \"_\" + type;\n  var SelectWidget = registry.widgets.SelectWidget;\n  return _react[\"default\"].createElement(SelectWidget, {\n    schema: {\n      type: \"integer\"\n    },\n    id: id,\n    className: \"form-control\",\n    options: {\n      enumOptions: rangeOptions(range[0], range[1])\n    },\n    placeholder: type,\n    value: value,\n    disabled: disabled,\n    readonly: readonly,\n    autofocus: autofocus,\n    onChange: function onChange(value) {\n      return select(type, value);\n    },\n    onBlur: onBlur\n  });\n}\n\nvar AltDateWidget =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(AltDateWidget, _Component);\n\n  function AltDateWidget(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, AltDateWidget);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(AltDateWidget).call(this, props));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onChange\", function (property, value) {\n      _this.setState((0, _defineProperty2[\"default\"])({}, property, typeof value === \"undefined\" ? -1 : value), function () {\n        // Only propagate to parent state if we have a complete date{time}\n        if (readyForChange(_this.state)) {\n          _this.props.onChange((0, _utils.toDateString)(_this.state, _this.props.time));\n        }\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"setNow\", function (event) {\n      event.preventDefault();\n      var _this$props = _this.props,\n          time = _this$props.time,\n          disabled = _this$props.disabled,\n          readonly = _this$props.readonly,\n          onChange = _this$props.onChange;\n\n      if (disabled || readonly) {\n        return;\n      }\n\n      var nowDateObj = (0, _utils.parseDateString)(new Date().toJSON(), time);\n\n      _this.setState(nowDateObj, function () {\n        return onChange((0, _utils.toDateString)(_this.state, time));\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"clear\", function (event) {\n      event.preventDefault();\n      var _this$props2 = _this.props,\n          time = _this$props2.time,\n          disabled = _this$props2.disabled,\n          readonly = _this$props2.readonly,\n          onChange = _this$props2.onChange;\n\n      if (disabled || readonly) {\n        return;\n      }\n\n      _this.setState((0, _utils.parseDateString)(\"\", time), function () {\n        return onChange(undefined);\n      });\n    });\n    _this.state = (0, _utils.parseDateString)(props.value, props.time);\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(AltDateWidget, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState((0, _utils.parseDateString)(nextProps.value, nextProps.time));\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return (0, _utils.shouldRender)(this, nextProps, nextState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          id = _this$props3.id,\n          disabled = _this$props3.disabled,\n          readonly = _this$props3.readonly,\n          autofocus = _this$props3.autofocus,\n          registry = _this$props3.registry,\n          onBlur = _this$props3.onBlur,\n          options = _this$props3.options;\n      return _react[\"default\"].createElement(\"ul\", {\n        className: \"list-inline\"\n      }, this.dateElementProps.map(function (elemProps, i) {\n        return _react[\"default\"].createElement(\"li\", {\n          key: i\n        }, _react[\"default\"].createElement(DateElement, (0, _extends2[\"default\"])({\n          rootId: id,\n          select: _this2.onChange\n        }, elemProps, {\n          disabled: disabled,\n          readonly: readonly,\n          registry: registry,\n          onBlur: onBlur,\n          autofocus: autofocus && i === 0\n        })));\n      }), (options.hideNowButton !== \"undefined\" ? !options.hideNowButton : true) && _react[\"default\"].createElement(\"li\", null, _react[\"default\"].createElement(\"a\", {\n        href: \"#\",\n        className: \"btn btn-info btn-now\",\n        onClick: this.setNow\n      }, \"Now\")), (options.hideClearButton !== \"undefined\" ? !options.hideClearButton : true) && _react[\"default\"].createElement(\"li\", null, _react[\"default\"].createElement(\"a\", {\n        href: \"#\",\n        className: \"btn btn-warning btn-clear\",\n        onClick: this.clear\n      }, \"Clear\")));\n    }\n  }, {\n    key: \"dateElementProps\",\n    get: function get() {\n      var _this$props4 = this.props,\n          time = _this$props4.time,\n          options = _this$props4.options;\n      var _this$state = this.state,\n          year = _this$state.year,\n          month = _this$state.month,\n          day = _this$state.day,\n          hour = _this$state.hour,\n          minute = _this$state.minute,\n          second = _this$state.second;\n      var data = [{\n        type: \"year\",\n        range: options.yearsRange,\n        value: year\n      }, {\n        type: \"month\",\n        range: [1, 12],\n        value: month\n      }, {\n        type: \"day\",\n        range: [1, 31],\n        value: day\n      }];\n\n      if (time) {\n        data.push({\n          type: \"hour\",\n          range: [0, 23],\n          value: hour\n        }, {\n          type: \"minute\",\n          range: [0, 59],\n          value: minute\n        }, {\n          type: \"second\",\n          range: [0, 59],\n          value: second\n        });\n      }\n\n      return data;\n    }\n  }]);\n  return AltDateWidget;\n}(_react.Component);\n\n(0, _defineProperty2[\"default\"])(AltDateWidget, \"defaultProps\", {\n  time: false,\n  disabled: false,\n  readonly: false,\n  autofocus: false,\n  options: {\n    yearsRange: [1900, new Date().getFullYear() + 2]\n  }\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  AltDateWidget.propTypes = {\n    schema: _propTypes[\"default\"].object.isRequired,\n    id: _propTypes[\"default\"].string.isRequired,\n    value: _propTypes[\"default\"].string,\n    required: _propTypes[\"default\"].bool,\n    disabled: _propTypes[\"default\"].bool,\n    readonly: _propTypes[\"default\"].bool,\n    autofocus: _propTypes[\"default\"].bool,\n    onChange: _propTypes[\"default\"].func,\n    onBlur: _propTypes[\"default\"].func,\n    time: _propTypes[\"default\"].bool,\n    options: _propTypes[\"default\"].object\n  };\n}\n\nvar _default = AltDateWidget;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/lucaspauker/projects/treehacks/meet/node_modules/react-jsonschema-form/lib/components/widgets/AltDateWidget.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","_Object$defineProperty","exports","value","_extends2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_inherits2","_defineProperty2","_keys","_react","_propTypes","_utils","rangeOptions","start","stop","options","i","push","label","pad","readyForChange","state","every","key","DateElement","props","type","range","select","rootId","disabled","readonly","autofocus","registry","onBlur","id","SelectWidget","widgets","createElement","schema","className","enumOptions","placeholder","onChange","AltDateWidget","_Component","_this","call","property","setState","toDateString","time","event","preventDefault","_this$props","nowDateObj","parseDateString","Date","toJSON","_this$props2","undefined","componentWillReceiveProps","nextProps","shouldComponentUpdate","nextState","shouldRender","render","_this2","_this$props3","dateElementProps","map","elemProps","hideNowButton","href","onClick","setNow","hideClearButton","clear","get","_this$props4","_this$state","year","month","day","hour","minute","second","data","yearsRange","Component","getFullYear","process","env","NODE_ENV","propTypes","object","isRequired","string","required","bool","func","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/defineProperty\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/keys\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _utils = require(\"../../utils\");\n\nfunction rangeOptions(start, stop) {\n  var options = [];\n\n  for (var i = start; i <= stop; i++) {\n    options.push({\n      value: i,\n      label: (0, _utils.pad)(i, 2)\n    });\n  }\n\n  return options;\n}\n\nfunction readyForChange(state) {\n  return (0, _keys[\"default\"])(state).every(function (key) {\n    return state[key] !== -1;\n  });\n}\n\nfunction DateElement(props) {\n  var type = props.type,\n      range = props.range,\n      value = props.value,\n      select = props.select,\n      rootId = props.rootId,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      registry = props.registry,\n      onBlur = props.onBlur;\n  var id = rootId + \"_\" + type;\n  var SelectWidget = registry.widgets.SelectWidget;\n  return _react[\"default\"].createElement(SelectWidget, {\n    schema: {\n      type: \"integer\"\n    },\n    id: id,\n    className: \"form-control\",\n    options: {\n      enumOptions: rangeOptions(range[0], range[1])\n    },\n    placeholder: type,\n    value: value,\n    disabled: disabled,\n    readonly: readonly,\n    autofocus: autofocus,\n    onChange: function onChange(value) {\n      return select(type, value);\n    },\n    onBlur: onBlur\n  });\n}\n\nvar AltDateWidget =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(AltDateWidget, _Component);\n\n  function AltDateWidget(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, AltDateWidget);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(AltDateWidget).call(this, props));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onChange\", function (property, value) {\n      _this.setState((0, _defineProperty2[\"default\"])({}, property, typeof value === \"undefined\" ? -1 : value), function () {\n        // Only propagate to parent state if we have a complete date{time}\n        if (readyForChange(_this.state)) {\n          _this.props.onChange((0, _utils.toDateString)(_this.state, _this.props.time));\n        }\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"setNow\", function (event) {\n      event.preventDefault();\n      var _this$props = _this.props,\n          time = _this$props.time,\n          disabled = _this$props.disabled,\n          readonly = _this$props.readonly,\n          onChange = _this$props.onChange;\n\n      if (disabled || readonly) {\n        return;\n      }\n\n      var nowDateObj = (0, _utils.parseDateString)(new Date().toJSON(), time);\n\n      _this.setState(nowDateObj, function () {\n        return onChange((0, _utils.toDateString)(_this.state, time));\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"clear\", function (event) {\n      event.preventDefault();\n      var _this$props2 = _this.props,\n          time = _this$props2.time,\n          disabled = _this$props2.disabled,\n          readonly = _this$props2.readonly,\n          onChange = _this$props2.onChange;\n\n      if (disabled || readonly) {\n        return;\n      }\n\n      _this.setState((0, _utils.parseDateString)(\"\", time), function () {\n        return onChange(undefined);\n      });\n    });\n    _this.state = (0, _utils.parseDateString)(props.value, props.time);\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(AltDateWidget, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState((0, _utils.parseDateString)(nextProps.value, nextProps.time));\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return (0, _utils.shouldRender)(this, nextProps, nextState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          id = _this$props3.id,\n          disabled = _this$props3.disabled,\n          readonly = _this$props3.readonly,\n          autofocus = _this$props3.autofocus,\n          registry = _this$props3.registry,\n          onBlur = _this$props3.onBlur,\n          options = _this$props3.options;\n      return _react[\"default\"].createElement(\"ul\", {\n        className: \"list-inline\"\n      }, this.dateElementProps.map(function (elemProps, i) {\n        return _react[\"default\"].createElement(\"li\", {\n          key: i\n        }, _react[\"default\"].createElement(DateElement, (0, _extends2[\"default\"])({\n          rootId: id,\n          select: _this2.onChange\n        }, elemProps, {\n          disabled: disabled,\n          readonly: readonly,\n          registry: registry,\n          onBlur: onBlur,\n          autofocus: autofocus && i === 0\n        })));\n      }), (options.hideNowButton !== \"undefined\" ? !options.hideNowButton : true) && _react[\"default\"].createElement(\"li\", null, _react[\"default\"].createElement(\"a\", {\n        href: \"#\",\n        className: \"btn btn-info btn-now\",\n        onClick: this.setNow\n      }, \"Now\")), (options.hideClearButton !== \"undefined\" ? !options.hideClearButton : true) && _react[\"default\"].createElement(\"li\", null, _react[\"default\"].createElement(\"a\", {\n        href: \"#\",\n        className: \"btn btn-warning btn-clear\",\n        onClick: this.clear\n      }, \"Clear\")));\n    }\n  }, {\n    key: \"dateElementProps\",\n    get: function get() {\n      var _this$props4 = this.props,\n          time = _this$props4.time,\n          options = _this$props4.options;\n      var _this$state = this.state,\n          year = _this$state.year,\n          month = _this$state.month,\n          day = _this$state.day,\n          hour = _this$state.hour,\n          minute = _this$state.minute,\n          second = _this$state.second;\n      var data = [{\n        type: \"year\",\n        range: options.yearsRange,\n        value: year\n      }, {\n        type: \"month\",\n        range: [1, 12],\n        value: month\n      }, {\n        type: \"day\",\n        range: [1, 31],\n        value: day\n      }];\n\n      if (time) {\n        data.push({\n          type: \"hour\",\n          range: [0, 23],\n          value: hour\n        }, {\n          type: \"minute\",\n          range: [0, 59],\n          value: minute\n        }, {\n          type: \"second\",\n          range: [0, 59],\n          value: second\n        });\n      }\n\n      return data;\n    }\n  }]);\n  return AltDateWidget;\n}(_react.Component);\n\n(0, _defineProperty2[\"default\"])(AltDateWidget, \"defaultProps\", {\n  time: false,\n  disabled: false,\n  readonly: false,\n  autofocus: false,\n  options: {\n    yearsRange: [1900, new Date().getFullYear() + 2]\n  }\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  AltDateWidget.propTypes = {\n    schema: _propTypes[\"default\"].object.isRequired,\n    id: _propTypes[\"default\"].string.isRequired,\n    value: _propTypes[\"default\"].string,\n    required: _propTypes[\"default\"].bool,\n    disabled: _propTypes[\"default\"].bool,\n    readonly: _propTypes[\"default\"].bool,\n    autofocus: _propTypes[\"default\"].bool,\n    onChange: _propTypes[\"default\"].func,\n    onBlur: _propTypes[\"default\"].func,\n    time: _propTypes[\"default\"].bool,\n    options: _propTypes[\"default\"].object\n  };\n}\n\nvar _default = AltDateWidget;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}