{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar types = _interopRequireWildcard(require(\"../../types\"));\n\nvar _utils = require(\"../../utils\"); // Matches a string that ends in a . character, optionally followed by a sequence of\n// digits followed by any number of 0 characters up until the end of the line.\n// Ensuring that there is at least one prefixed character is important so that\n// you don't incorrectly match against \"0\".\n\n\nvar trailingCharMatcherWithPrefix = /\\.([0-9]*0)*$/; // This is used for trimming the trailing 0 and . characters without affecting\n// the rest of the string. Its possible to use one RegEx with groups for this\n// functionality, but it is fairly complex compared to simply defining two\n// different matchers.\n\nvar trailingCharMatcher = /[0.]0*$/;\n/**\n * The NumberField class has some special handling for dealing with trailing\n * decimal points and/or zeroes. This logic is designed to allow trailing values\n * to be visible in the input element, but not be represented in the\n * corresponding form data.\n *\n * The algorithm is as follows:\n *\n * 1. When the input value changes the value is cached in the component state\n *\n * 2. The value is then normalized, removing trailing decimal points and zeros,\n *    then passed to the \"onChange\" callback\n *\n * 3. When the component is rendered, the formData value is checked against the\n *    value cached in the state. If it matches the cached value, the cached\n *    value is passed to the input instead of the formData value\n */\n\nvar NumberField =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2[\"default\"])(NumberField, _React$Component);\n\n  function NumberField(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, NumberField);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(NumberField).call(this, props));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleChange\", function (value) {\n      // Cache the original value in component state\n      _this.setState({\n        lastValue: value\n      }); // Normalize decimals that don't start with a zero character in advance so\n      // that the rest of the normalization logic is simpler\n\n\n      if (\"\".concat(value).charAt(0) === \".\") {\n        value = \"0\".concat(value);\n      } // Check that the value is a string (this can happen if the widget used is a\n      // <select>, due to an enum declaration etc) then, if the value ends in a\n      // trailing decimal point or multiple zeroes, strip the trailing values\n\n\n      var processed = typeof value === \"string\" && value.match(trailingCharMatcherWithPrefix) ? (0, _utils.asNumber)(value.replace(trailingCharMatcher, \"\")) : (0, _utils.asNumber)(value);\n\n      _this.props.onChange(processed);\n    });\n    _this.state = {\n      lastValue: props.value\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(NumberField, [{\n    key: \"render\",\n    value: function render() {\n      var StringField = this.props.registry.fields.StringField;\n      var _this$props = this.props,\n          formData = _this$props.formData,\n          props = (0, _objectWithoutProperties2[\"default\"])(_this$props, [\"formData\"]);\n      var lastValue = this.state.lastValue;\n      var value = formData;\n\n      if (typeof lastValue === \"string\" && typeof value === \"number\") {\n        // Construct a regular expression that checks for a string that consists\n        // of the formData value suffixed with zero or one '.' characters and zero\n        // or more '0' characters\n        var re = new RegExp(\"\".concat(value).replace(\".\", \"\\\\.\") + \"\\\\.?0*$\"); // If the cached \"lastValue\" is a match, use that instead of the formData\n        // value to prevent the input value from changing in the UI\n\n        if (lastValue.match(re)) {\n          value = lastValue;\n        }\n      }\n\n      return _react[\"default\"].createElement(StringField, (0, _extends2[\"default\"])({}, props, {\n        formData: value,\n        onChange: this.handleChange\n      }));\n    }\n  }]);\n  return NumberField;\n}(_react[\"default\"].Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  NumberField.propTypes = types.fieldProps;\n}\n\nNumberField.defaultProps = {\n  uiSchema: {}\n};\nvar _default = NumberField;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/lucaspauker/projects/treehacks/meet/node_modules/react-jsonschema-form/lib/components/fields/NumberField.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","_Object$defineProperty","exports","value","_extends2","_objectWithoutProperties2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_inherits2","_defineProperty2","_react","types","_utils","trailingCharMatcherWithPrefix","trailingCharMatcher","NumberField","_React$Component","props","_this","call","setState","lastValue","concat","charAt","processed","match","asNumber","replace","onChange","state","key","render","StringField","registry","fields","_this$props","formData","re","RegExp","createElement","handleChange","Component","process","env","NODE_ENV","propTypes","fieldProps","defaultProps","uiSchema","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar types = _interopRequireWildcard(require(\"../../types\"));\n\nvar _utils = require(\"../../utils\");\n\n// Matches a string that ends in a . character, optionally followed by a sequence of\n// digits followed by any number of 0 characters up until the end of the line.\n// Ensuring that there is at least one prefixed character is important so that\n// you don't incorrectly match against \"0\".\nvar trailingCharMatcherWithPrefix = /\\.([0-9]*0)*$/; // This is used for trimming the trailing 0 and . characters without affecting\n// the rest of the string. Its possible to use one RegEx with groups for this\n// functionality, but it is fairly complex compared to simply defining two\n// different matchers.\n\nvar trailingCharMatcher = /[0.]0*$/;\n/**\n * The NumberField class has some special handling for dealing with trailing\n * decimal points and/or zeroes. This logic is designed to allow trailing values\n * to be visible in the input element, but not be represented in the\n * corresponding form data.\n *\n * The algorithm is as follows:\n *\n * 1. When the input value changes the value is cached in the component state\n *\n * 2. The value is then normalized, removing trailing decimal points and zeros,\n *    then passed to the \"onChange\" callback\n *\n * 3. When the component is rendered, the formData value is checked against the\n *    value cached in the state. If it matches the cached value, the cached\n *    value is passed to the input instead of the formData value\n */\n\nvar NumberField =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2[\"default\"])(NumberField, _React$Component);\n\n  function NumberField(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, NumberField);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(NumberField).call(this, props));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleChange\", function (value) {\n      // Cache the original value in component state\n      _this.setState({\n        lastValue: value\n      }); // Normalize decimals that don't start with a zero character in advance so\n      // that the rest of the normalization logic is simpler\n\n\n      if (\"\".concat(value).charAt(0) === \".\") {\n        value = \"0\".concat(value);\n      } // Check that the value is a string (this can happen if the widget used is a\n      // <select>, due to an enum declaration etc) then, if the value ends in a\n      // trailing decimal point or multiple zeroes, strip the trailing values\n\n\n      var processed = typeof value === \"string\" && value.match(trailingCharMatcherWithPrefix) ? (0, _utils.asNumber)(value.replace(trailingCharMatcher, \"\")) : (0, _utils.asNumber)(value);\n\n      _this.props.onChange(processed);\n    });\n    _this.state = {\n      lastValue: props.value\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(NumberField, [{\n    key: \"render\",\n    value: function render() {\n      var StringField = this.props.registry.fields.StringField;\n      var _this$props = this.props,\n          formData = _this$props.formData,\n          props = (0, _objectWithoutProperties2[\"default\"])(_this$props, [\"formData\"]);\n      var lastValue = this.state.lastValue;\n      var value = formData;\n\n      if (typeof lastValue === \"string\" && typeof value === \"number\") {\n        // Construct a regular expression that checks for a string that consists\n        // of the formData value suffixed with zero or one '.' characters and zero\n        // or more '0' characters\n        var re = new RegExp(\"\".concat(value).replace(\".\", \"\\\\.\") + \"\\\\.?0*$\"); // If the cached \"lastValue\" is a match, use that instead of the formData\n        // value to prevent the input value from changing in the UI\n\n        if (lastValue.match(re)) {\n          value = lastValue;\n        }\n      }\n\n      return _react[\"default\"].createElement(StringField, (0, _extends2[\"default\"])({}, props, {\n        formData: value,\n        onChange: this.handleChange\n      }));\n    }\n  }]);\n  return NumberField;\n}(_react[\"default\"].Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  NumberField.propTypes = types.fieldProps;\n}\n\nNumberField.defaultProps = {\n  uiSchema: {}\n};\nvar _default = NumberField;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}